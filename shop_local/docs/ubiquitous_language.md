# Ubiquitous language
## Сущности
- **Пользователь/покупатель/клиент (user/customer/client)** – человек, взаимодействующий с системой.
- **Каталог (catalogue)** – список всех имеющихся товаров, доступных для просмотра пользователю.
- **Товар (product)** – конкретный объект, продаваемый в магазине. Отображается в каталоге для покупателя, если есть в наличии.
- **Заказ (order)** – содержит список и количество товаров, а также их общую стоимость, время оформления, статус, ссылку на покупателя.
- **Доставка (delivery)** - содержит в себе ссылку на заказ, адрес, тип доставки и слот доставки.
- **Слот доставки (delivery slot)** – интервал времени в который будет осуществлена доставка заказа пользователя. Генерируются на основе параметров магазина и внешней системы доставки.
## Внешние системы
- **Внешняя система оповещения пользователя (external notification system)** - внешняя система, отвечающая за оповещения пользователя о брошенной корзине.
- **Внешняя система оплаты (external payment system)** - внешняя система, отвечающая за взаимодействия с денежными средствами.
- **Внешняя система доставки (external delivery system)** - внешняя система, отвечающая за доставку заказов.
## Состояния сущностей
- **Корзина (shopping cart)** – заказ находящийся в состоянии сборки.
- **Брошенная корзина (abandoned cart)** – корзина, с которой не взаимодействовали определённое время. За уведомление о наличии брошенной корзины отвечает внешняя система оповещения пользователя.
- **Забронированный заказ (booked order)** - заказ, товары в котором были забронированы.
- **Отмененный заказ (discarded order)** - заказ, который был удален так как не был забронирован и не было активности в течении определенного времени.
- **Доставляемый заказ (order in shipping)** - заказ, доставка которого была одобрена и передана во внешнюю систему доставки.
- **Возвращенный заказ (refunded order)** - оплаченный заказ за который был сделан возврат. Происходит если заказ не был отправлен службе доставки, время доставки было больше заявленного или если доставка была неудачной.  
- **Завершенный заказ (completed order)** - заказ, который был успешно доставлен.
## Действия над сущностями
- **Сборка заказа (order collecting)** - процесс добавления и удаления товаров в заказ.
- **Отмена заказа (order discarding)** - отмена не забронированного заказа системой.
- **Оформление заказа (order booking)** – пользователь собрал заказ и заявляет о намерении его оплатить. Все товары из заказа бронируются.
- **Бронирование товара (product booking)** - определенное количество товара становится недоступно для других пользователей.
- **Оплата заказа (order payment)** - оплата заказа клиентом. Происходит взаимодействие с внешней системой оплаты.
- **Доставка заказа (order delivery)** - пользователь заполняет адрес и выбирает стол доставки. После этого доставка прикрепляется к заказу. Информация о заказе и доставке передается во внешнюю систему доставки.
- **Возврат (refund)** - возврат денег за оплаченный заказа обратно пользователю.